Инструкция основанна на [этом материале](https://www.mathworks.com/help/matlab/ref/mex.html).

Чтобы скомпилировать с++ приложение, которое использует matlab api (matlab engine), можно пользоваться схожими средствами, которые обсуждались в [материале к прошлой лекции](../lecture_13/README.md). В частности, в самом простом случае можно было бы пользоваться командой 
```{matlab}
mex -client engine source.cpp
```
Т.е. в команду добавился флаг `-clint engine`. Если так сделать, то велика вероятность, что компилятор не обнаружит необходимые библиотеки `libeng.lib` и `libmx.lib`. Тогда необходимо указать компилятору, где они располагаются:
```{matlab}
mex  "-LC:\Program Files\MATLAB\R2017b\extern\lib\win64\mingw64" -llibeng -llibmx -client engine source.cpp
```
Детали:
1. Путь к папке, где установлен MATLAB у меня `C:\Program Files\MATLAB\R2017b`. У вас он может быть другим (и скорее всего другой);
2. В моем случае компиляция происходит средствами компилятора `MinGW`, поэтому путь заканчивается на `..\mingw64`. Если компиляция в matlab настроенна под MSVS компилятор, то путь должен завершаться на `..\microsoft`;

Теперь компиляция должна произойти успешно, т.е. должен образоваться исполняемый файл `source.exe`, но запустив его вы можете увидеть ошибку с сообщением, что не удается найти файлы  
1. `libeng.lib` и `libmx.lib`;
2. `libeng.dll` и `libmx.dll`.

Если вы встретили ошибку первого типа, т.е. файлы `.lib`, то не удалось подключить библиотеки на прошлом этапе, т.е. скорее всего не верно указан путь к папке. Если не найдены файлы `.dll`, то необходимо добавить в переменные среды в `PATH` путь к папке `C:\Program Files\MATLAB\R2017b\bin\win64` (Опять же, путь к папке с матлабом на вашем ПК скорее всего отличается). Как редактировать переменные среды можно найти в [инструкции к лекции 13](../lecture_13/README.md). По завершении этого пункта может потребоваться перезагрузка компьютера, чтобы изменения начали действовать.
